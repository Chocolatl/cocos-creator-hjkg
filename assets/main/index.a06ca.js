window.__require=function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var a="function"==typeof __require&&__require;if(!c&&a)return a(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return o(t[s][1][e]||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var r,o,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function a(e){if(o===clearTimeout)return clearTimeout(e);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(e){o=c}})();var u,f=[],p=!1,h=-1;function d(){p&&u&&(p=!1,u.length?f=u.concat(f):h=-1,f.length&&y())}function y(){if(!p){var e=l(d);p=!0;for(var t=f.length;t;){for(u=f,f=[];++h<t;)u&&u[h].run();h=-1,t=f.length}u=null,p=!1,a(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new m(e,t)),1!==f.length||p||l(y)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(r){var o=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s="object"==typeof e&&"function"==typeof e.nextTick,c="function"==typeof Symbol,l="object"==typeof Reflect,a="function"==typeof setImmediate?setImmediate:setTimeout,u=c?l&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function f(){this._events={},this._conf&&p.call(this,this._conf)}function p(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==r&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function h(t,n){var r="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+n+"."),void 0!==e&&e.emitWarning){var o=new Error(r);o.name="MaxListenersExceededWarning",o.emitter=this,o.count=t,e.emitWarning(o)}else console.error(r),console.trace&&console.trace()}var d=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var o=new Array(r);r--;)o[r]=arguments[r];return o}};function y(e,t){for(var n={},o=e.length,i=t?value.length:0,s=0;s<o;s++)n[e[s]]=s<i?t[s]:r;return n}function m(e,t,n){var r,o;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,o=n.off),t.addEventListener?(r=t.addEventListener,o=t.removeEventListener):t.addListener?(r=t.addListener,o=t.removeListener):t.on&&(r=t.on,o=t.off),!r&&!o)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof o)throw TypeError("off method must be a function");this._on=r,this._off=o;var i=e._observers;i?i.push(this):e._observers=[this]}function v(e,t,n,i){var s=Object.assign({},t);if(!e)return s;if("object"!=typeof e)throw TypeError("options must be an object");var c,l,a,u=Object.keys(e),f=u.length;function p(e){throw Error('Invalid "'+c+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<f;h++){if(c=u[h],!i&&!o.call(t,c))throw Error('Unknown "'+c+'" option');(l=e[c])!==r&&(a=n[c],s[c]=a?a(l,p):l)}return s}function g(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function b(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],o=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var i=typeof e;if(i===r||i===o)return e;n(t)}:function(r,o){for(var i=typeof r,s=n;s-- >0;)if(i===e[s])return r;o(t)}}Object.assign(m.prototype,{subscribe:function(e,t,n){var r=this,o=this._target,i=this._emitter,s=this._listeners,c=function(){var r=d.apply(null,arguments),s={data:r,name:t,original:e};n?!1!==n.call(o,s)&&i.emit.apply(i,[s.name].concat(r)):i.emit.apply(i,[t].concat(r))};if(s[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,i._newListener&&i._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===s[e]&&(s[e]=c,r._on.call(o,e,c))},i.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!i.hasListeners(n)&&s[e]&&(s[e]=null,r._off.call(o,e,c))},s[e]=null,i.on("removeListener",this._onRemoveListener)):(s[e]=c,r._on.call(o,e,c))},unsubscribe:function(e){var t,n,r,o=this,i=this._listeners,s=this._emitter,c=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function a(){o._onNewListener&&(s.off("newListener",o._onNewListener),s.off("removeListener",o._onRemoveListener),o._onNewListener=null,o._onRemoveListener=null);var e=S.call(s,o);s._observers.splice(e,1)}if(e){if(!(t=i[e]))return;c.call(l,e,t),delete i[e],--this._listenersCount||a()}else{for(r=(n=u(i)).length;r-- >0;)e=n[r],c.call(l,e,i[e]);this._listeners={},this._listenersCount=0,a()}}});var _=b(["function"]),w=b(["object","function"]);function L(e,t,n){var r,o,i,s=0,c=new e(function(l,a,u){function f(){o&&(o=null),s&&(clearTimeout(s),s=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}});var p=function(e){f(),l(e)},h=function(e){f(),a(e)};(r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u)?t(p,h,u):(o=[function(e){h(e||Error("canceled"))}],t(p,h,function(e){if(i)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");o.push(e)}),i=!0),n.timeout>0&&(s=setTimeout(function(){var e=Error("timeout");s=0,c.cancel(e),a(e)},n.timeout))});return r||(c.cancel=function(e){if(o){for(var t=o.length,n=1;n<t;n++)o[n](e);o[0](e),o=null}}),c}function S(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function O(e,t,n,r,o){if(!n)return null;if(0===r){var i=typeof t;if("string"===i){var s,c,l=0,a=0,f=this.delimiter,p=f.length;if(-1!==(c=t.indexOf(f))){s=new Array(5);do{s[l++]=t.slice(a,c),a=c+p}while(-1!==(c=t.indexOf(f,a)));s[l++]=t.slice(a),t=s,o=l}else t=[t],o=1}else"object"===i?o=t.length:(t=[t],o=1)}var h,d,y,m,v,g,b,_=null,w=t[r],L=t[r+1];if(r===o&&n._listeners)return"function"==typeof n._listeners?(e&&e.push(n._listeners),[n]):(e&&e.push.apply(e,n._listeners),[n]);if("*"===w){for(c=(g=u(n)).length;c-- >0;)"_listeners"!==(h=g[c])&&(b=O(e,t,n[h],r+1,o))&&(_?_.push.apply(_,b):_=b);return _}if("**"===w){for((v=r+1===o||r+2===o&&"*"===L)&&n._listeners&&(_=O(e,t,n,o,o)),c=(g=u(n)).length;c-- >0;)"_listeners"!==(h=g[c])&&("*"===h||"**"===h?(n[h]._listeners&&!v&&(b=O(e,t,n[h],o,o))&&(_?_.push.apply(_,b):_=b),b=O(e,t,n[h],r,o)):b=O(e,t,n[h],h===L?r+2:r,o),b&&(_?_.push.apply(_,b):_=b));return _}if(n[w]&&(_=O(e,t,n[w],r+1,o)),(d=n["*"])&&O(e,t,d,r+1,o),y=n["**"])if(r<o)for(y._listeners&&O(e,t,y,o,o),c=(g=u(y)).length;c-- >0;)"_listeners"!==(h=g[c])&&(h===L?O(e,t,y[h],r+2,o):h===w?O(e,t,y[h],r+1,o):((m={})[h]=y[h],O(e,t,{"**":m},r+1,o)));else y._listeners?O(e,t,y,o,o):y["*"]&&y["*"]._listeners&&O(e,t,y["*"],o,o);return _}function x(e,t){var n,r,o=0,i=0,s=this.delimiter,c=s.length;if("string"==typeof e)if(-1!==(n=e.indexOf(s))){r=new Array(5);do{r[o++]=e.slice(i,n),i=n+c}while(-1!==(n=e.indexOf(s,i)));r[o++]=e.slice(i)}else r=[e],o=1;else r=e,o=e.length;if(o>1)for(n=0;n+1<o;n++)if("**"===r[n]&&"**"===r[n+1])return;var l,a=this.listenerTree;for(n=0;n<o;n++)if(a=a[l=r[n]]||(a[l]={}),n===o-1)return a._listeners?("function"==typeof a._listeners&&(a._listeners=[a._listeners]),a._listeners.push(t),!a._listeners.warned&&this._maxListeners>0&&a._listeners.length>this._maxListeners&&(a._listeners.warned=!0,h.call(this,a._listeners.length,l))):a._listeners=t,!0;return!0}function P(e,t,n,r){for(var o,i,s,c,l=u(e),a=l.length,f=e._listeners;a-- >0;)o=e[i=l[a]],s="_listeners"===i?n:n?n.concat(i):[i],c=r||"symbol"==typeof i,f&&t.push(c?s:s.join(this.delimiter)),"object"==typeof o&&P.call(this,o,t,s,c);return t}function j(e){for(var t,n,r,o=u(e),i=o.length;i-- >0;)(t=e[n=o[i]])&&(r=!0,"_listeners"===n||j(t)||delete e[n]);return r}function E(e,t,n){this.emitter=e,this.event=t,this.listener=n}function T(t,n,o){if(!0===o)c=!0;else if(!1===o)i=!0;else{if(!o||"object"!=typeof o)throw TypeError("options should be an object or true");var i=o.async,c=o.promisify,l=o.nextTick,u=o.objectify}if(i||l||c){var f=n,p=n._origin||n;if(l&&!s)throw Error("process.nextTick is not supported");c===r&&(c="AsyncFunction"===n.constructor.name),(n=function(){var t=arguments,n=this,r=this.event;return c?l?Promise.resolve():new Promise(function(e){a(e)}).then(function(){return n.event=r,f.apply(n,t)}):(l?e.nextTick:a)(function(){n.event=r,f.apply(n,t)})})._async=!0,n._origin=p}return[n,u?new E(this,t,n):this]}function I(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,e)}E.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},I.EventEmitter2=I,I.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var o=this;function s(t){if("object"!=typeof t)throw TypeError("events must be an object");var r,i=n.reducers,s=S.call(o,e);r=-1===s?new m(o,e,n):o._observers[s];for(var c,l=u(t),a=l.length,f="function"==typeof i,p=0;p<a;p++)c=l[p],r.subscribe(c,t[c]||c,f?i:i&&i[c])}return n=v(n,{on:r,off:r,reducers:r},{on:_,off:_,reducers:w}),i(t)?s(y(t)):s("string"==typeof t?y(t.split(/\s+/)):t),this},I.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,o=n.length,i=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;o-- >0;)r=n[o],e&&r._target!==e||(r.unsubscribe(t),i=!0);return i},I.prototype.delimiter=".",I.prototype.setMaxListeners=function(e){e!==r&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},I.prototype.getMaxListeners=function(){return this._maxListeners},I.prototype.event="",I.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},I.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},I.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},I.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},I.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},I.prototype._many=function(e,t,n,r,o){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function s(){return 0==--t&&i.off(e,s),n.apply(this,arguments)}return s._origin=n,this._on(e,s,r,o)},I.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var e,t,n,r,o,i,s=arguments[0],l=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(l&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,c)for(r=0;r<n;r++)if("symbol"==typeof s[r]){i=!0;break}i||(s=s.join(this.delimiter))}var a,u=arguments.length;if(this._all&&this._all.length)for(r=0,n=(a=this._all.slice()).length;r<n;r++)switch(this.event=s,u){case 1:a[r].call(this,s);break;case 2:a[r].call(this,s,arguments[1]);break;case 3:a[r].call(this,s,arguments[1],arguments[2]);break;default:a[r].apply(this,arguments)}if(l)a=[],O.call(this,a,e,this.listenerTree,0,n);else{if("function"==typeof(a=this._events[s])){switch(this.event=s,u){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),o=1;o<u;o++)t[o-1]=arguments[o];a.apply(this,t)}return!0}a&&(a=a.slice())}if(a&&a.length){if(u>3)for(t=new Array(u-1),o=1;o<u;o++)t[o-1]=arguments[o];for(r=0,n=a.length;r<n;r++)switch(this.event=s,u){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},I.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var e,t,n,r,o,i,s=arguments[0],l=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(l&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(r=s.length,c)for(o=0;o<r;o++)if("symbol"==typeof s[o]){t=!0;break}t||(s=s.join(this.delimiter))}var a,u=[],p=arguments.length;if(this._all)for(o=0,r=this._all.length;o<r;o++)switch(this.event=s,p){case 1:u.push(this._all[o].call(this,s));break;case 2:u.push(this._all[o].call(this,s,arguments[1]));break;case 3:u.push(this._all[o].call(this,s,arguments[1],arguments[2]));break;default:u.push(this._all[o].apply(this,arguments))}if(l?(a=[],O.call(this,a,e,this.listenerTree,0)):a=this._events[s],"function"==typeof a)switch(this.event=s,p){case 1:u.push(a.call(this));break;case 2:u.push(a.call(this,arguments[1]));break;case 3:u.push(a.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(p-1),i=1;i<p;i++)n[i-1]=arguments[i];u.push(a.apply(this,n))}else if(a&&a.length){if(a=a.slice(),p>3)for(n=new Array(p-1),i=1;i<p;i++)n[i-1]=arguments[i];for(o=0,r=a.length;o<r;o++)switch(this.event=s,p){case 1:u.push(a[o].call(this));break;case 2:u.push(a[o].call(this,arguments[1]));break;case 3:u.push(a[o].call(this,arguments[1],arguments[2]));break;default:u.push(a[o].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},I.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},I.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},I.prototype.onAny=function(e){return this._onAny(e,!1)},I.prototype.prependAny=function(e){return this._onAny(e,!0)},I.prototype.addListener=I.prototype.on,I.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},I.prototype._on=function(e,t,n,o){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||f.call(this);var i,s=this;return o!==r&&(t=(i=T.call(this,e,t,o))[0],s=i[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(x.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,h.call(this,this._events[e].length,e))):this._events[e]=t,s)},I.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=O.call(this,null,o,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var c=r[s];if(n=c._listeners,i(n)){for(var l=-1,a=0,u=n.length;a<u;a++)if(n[a]===t||n[a].listener&&n[a].listener===t||n[a]._origin&&n[a]._origin===t){l=a;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&j(this.listenerTree),this},I.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},I.prototype.removeListener=I.prototype.off,I.prototype.removeAllListeners=function(e){if(e===r)return!this._events||f.call(this),this;if(this.wildcard){var t,n=O.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&j(this.listenerTree)}else this._events&&(this._events[e]=null);return this},I.prototype.listeners=function(e){var t,n,o,i,s,c=this._events;if(e===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!c)return[];for(i=(t=u(c)).length,o=[];i-- >0;)"function"==typeof(n=c[t[i]])?o.push(n):o.push.apply(o,n);return o}if(this.wildcard){if(!(s=this.listenerTree))return[];var l=[],a="string"==typeof e?e.split(this.delimiter):e.slice();return O.call(this,l,a,s,0),l}return c&&(n=c[e])?"function"==typeof n?[n]:n:[]},I.prototype.eventNames=function(e){var t=this._events;return this.wildcard?P.call(this,this.listenerTree,[],null,e):t?u(t):[]},I.prototype.listenerCount=function(e){return this.listeners(e).length},I.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return O.call(this,t,n,this.listenerTree,0),t.length>0}var o=this._events,i=this._all;return!!(i&&i.length||o&&(e===r?u(o).length:o[e]))},I.prototype.listenersAny=function(){return this._all?this._all:[]},I.prototype.waitFor=function(e,t){var n=this,o=typeof t;return"number"===o?t={timeout:t}:"function"===o&&(t={filter:t}),L((t=v(t,{timeout:0,filter:r,handleError:!1,Promise:Promise,overload:!1},{filter:_,Promise:g})).Promise,function(r,o,i){function s(){var e=t.filter;if(!e||e.apply(n,arguments))if(t.handleError){var i=arguments[0];i?o(i):r(d.apply(null,arguments).slice(1))}else r(d.apply(null,arguments))}i(function(){n.off(e,s)}),n._on(e,s,!1)},{timeout:t.timeout,overload:t.overload})};var A=I.prototype;if(Object.defineProperties(I,{defaultMaxListeners:{get:function(){return A._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");A._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return L((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:g})).Promise,function(n,r,o){var i;if("function"==typeof e.addEventListener)return i=function(){n(d.apply(null,arguments))},o(function(){e.removeEventListener(t,i)}),void e.addEventListener(t,i,{once:!0});var s,c=function(){s&&e.removeListener("error",s),n(d.apply(null,arguments))};"error"!==t&&(s=function(n){e.removeListener(t,c),r(n)},e.once("error",s)),o(function(){s&&e.removeListener("error",s),e.removeListener(t,c)}),e.once(t,c)},{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(A,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof define&&define.amd)define(function(){return I});else if("object"==typeof n)t.exports=I;else{new Function("","return this")().EventEmitter2=I}}()}).call(this,e("_process"))},{_process:1}],catcher:[function(e,t,n){"use strict";cc._RF.push(t,"97081j/0m9HtZ3ScDL/4h2i","catcher");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function c(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?n(e.value):o(e.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("./item"),l=e("./player"),a=e("./global"),u=e("./game"),f=e("./utils"),p=cc._decorator,h=p.ccclass,d=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game=null,t.player=null,t.anchor=null,t.bombPrefab=null,t.castState="none",t.rotationDirection="left",t.registerInputHandler=function(){t.game.node.on("down",function(){"none"===t.castState&&(t.castState="down")}),t.game.node.on("up",function(){"up"===t.castState&&t.bombCaughtItem()})},t.bombCaughtItem=function(){if(t.caught&&t.player.useBomb()){var e=cc.instantiate(t.bombPrefab);e.parent=t.player.node;var n=t.caught.node.convertToWorldSpaceAR(cc.v2(0,0)).sub(t.player.node.convertToWorldSpaceAR(cc.v2(0,0))),r=n.x,o=n.y,i=t.castState;t.castState="pause",cc.tween(e).to(.15,{x:r,y:o}).call(function(){t.castState=i,e.parent=null,t.removeCaught()}).start()}},t.removeCaught=function(){t.caught=void 0,t.anchor.removeAllChildren()},t.handleSell=function(){return i(t,void 0,void 0,function(){var e,t,n,r,o;return s(this,function(i){switch(i.label){case 0:return(e=this.caught.item).type!==c.ItemType.Secret?[3,4]:"price"!==(t=this.caught.secretItem).type?[3,2]:[4,this.player.gainScore(t.value)];case 1:return i.sent(),[3,3];case 2:"buff"===t.type?this.player.gainHighStrength():"bomb"===t.type&&this.player.gainBomb(),i.label=3;case 3:return[3,6];case 4:if(e.type===c.ItemType.Explosive)throw new Error;return n=e.type===c.ItemType.Stone,r=e.type===c.ItemType.Diamond||e.type===c.ItemType.DiamondPig,o=n&&a.default.buff.highStone?2*e.price:r&&a.default.buff.highDiamond?Math.floor(1.4*e.price):e.price,[4,this.player.gainScore(o)];case 5:i.sent(),i.label=6;case 6:return this.removeCaught(),this.castState="none",this.setRomdonDirection(),[2]}})})},t.setRomdonDirection=function(){"left"===t.rotationDirection&&t.node.angle<n.maxAngle-40?t.rotationDirection="right":"right"===t.rotationDirection&&t.node.angle>40-n.maxAngle&&(t.rotationDirection="left"),"left"===t.rotationDirection?t.node.angle-=f.randomInt(20,40):t.node.angle+=f.randomInt(20,40)},t.calculateRotationAngle=function(e){return n.rotationSpeed*e*(1.25-Math.abs(t.node.angle/n.maxAngle))},t}var n;return r(t,e),n=t,t.prototype.onLoad=function(){this.node.angle=0,this.normalLenght=this.node.height,this.registerInputHandler()},t.prototype.onCollide=function(e){if(!this.caught&&"down"===this.castState){var t=e.getComponent("item"),n=e.getComponent("move");n.isMoving&&n.stopMove(),t.item.type===c.ItemType.Explosive&&(t.init({type:c.ItemType.Debris,price:1,weight:20,volume:20}),this.game.explodeArea(e.position)),e.x=0,e.y=.25*-e.height,e.parent=this.anchor,this.caught=t,this.castState="up"}},t.prototype.update=function(e){if("none"===this.castState)"left"===this.rotationDirection?(this.node.angle<=-n.maxAngle&&(this.rotationDirection="right"),this.node.angle-=this.calculateRotationAngle(e)):(this.node.angle>=n.maxAngle&&(this.rotationDirection="left"),this.node.angle+=this.calculateRotationAngle(e));else if("down"===this.castState)this.node.height+=e*n.castSpeed,this.node.height-this.normalLenght>n.maxLength&&(this.node.height=this.normalLenght+n.maxLength,this.castState="up");else if("up"===this.castState){if(this.caught){var t=this.caught.item,r=t.type===c.ItemType.Explosive?20:t.type===c.ItemType.Secret?this.caught.secretItem.weight:t.weight,o=a.default.buff.highStrength?2*n.castSpeed:a.default.buff.strength?1.1*n.castSpeed:n.castSpeed;this.node.height-=e*(o-r)}else this.node.height-=e*n.castSpeed*1.6;this.node.height<this.normalLenght&&(this.node.height=this.normalLenght,this.caught?(this.castState="sell",this.handleSell()):this.castState="none")}},t.maxAngle=75,t.rotationSpeed=100,t.maxLength=800,t.castSpeed=480,o([d({type:u.default})],t.prototype,"game",void 0),o([d({type:l.default})],t.prototype,"player",void 0),o([d({type:cc.Node})],t.prototype,"anchor",void 0),o([d({type:cc.Prefab})],t.prototype,"bombPrefab",void 0),t=n=o([h],t)}(cc.Component);n.default=y,cc._RF.pop()},{"./game":"game","./global":"global","./item":"item","./player":"player","./utils":"utils"}],config:[function(e,t,n){"use strict";cc._RF.push(t,"96c1apxnlhK3qv6qfhS/nOC","config");var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.levelsConfig=void 0;var o=e("./item"),i=function(e,t,n){var i={type:o.ItemType.Gold,x:e,y:t},s="s"===n?{volume:20,price:50,weight:120}:"m"===n?{volume:40,price:100,weight:220}:"l"===n?{volume:80,price:250,weight:320}:{volume:100,price:500,weight:420};return r(r({},i),s)},s=function(e,t,n){var i={type:o.ItemType.Stone,x:e,y:t},s="s"===n?{volume:20,price:20,weight:300}:"m"===n?{volume:40,price:50,weight:375}:{volume:60,price:70,weight:435};return r(r({},i),s)},c=function(e,t,n){return{type:o.ItemType.Diamond,volume:20,price:n,weight:20,x:e,y:t}},l=function(e,t){return{type:o.ItemType.Secret,x:e,y:t}},a=function(e,t,n){return{type:o.ItemType.Pig,volume:30,price:2,weight:20,x:e,y:t,moveDirection:n}},u=function(e,t,n,r){return{type:o.ItemType.DiamondPig,volume:30,price:n,weight:20,x:e,y:t,moveDirection:r}},f=function(e,t){return{type:o.ItemType.Bone,volume:40,price:30,weight:20,x:e,y:t}},p=function(e,t){return{type:o.ItemType.Explosive,x:e,y:t}};n.levelsConfig=[{targetScore:650,levelItems:[i(210,530,"s"),s(140,440,"m"),i(140,320,"xl"),i(245,140,"m"),i(340,410,"s"),s(355,80,"l"),i(450,210,"m"),i(625,390,"m"),l(695,75),s(760,270,"l"),i(810,405,"s"),i(810,350,"s"),i(860,470,"s"),s(880,520,"l"),i(1020,260,"xl")]},{targetScore:1195,levelItems:[i(70,170,"xl"),i(80,225,"m"),s(165,400,"l"),i(215,220,"s"),s(315,270,"l"),l(350,125),i(365,320,"s"),s(445,215,"m"),i(510,410,"s"),s(600,225,"l"),i(645,350,"s"),i(715,95,"xl"),c(770,260,600),s(785,335,"m"),s(840,70,"l"),i(830,520,"s"),s(900,470,"m"),i(920,355,"s"),i(940,115,"m")]},{targetScore:2010,levelItems:[l(120,495),i(145,340,"m"),i(190,535,"s"),i(190,475,"s"),s(200,230,"l"),i(255,530,"s"),s(540,400,"m"),i(710,90,"m"),i(725,380,"s"),s(745,265,"l"),s(790,330,"m"),s(790,195,"m"),c(820,260,600),s(885,320,"l"),s(900,230,"l"),i(970,370,"m")]},{targetScore:3095,levelItems:[i(65,420,"s"),i(70,220,"m"),s(150,220,"l"),a(225,410,"right"),i(230,135,"l"),i(310,215,"s"),s(330,70,"l"),a(340,510,"right"),i(360,230,"s"),l(455,170),s(535,215,"m"),i(630,175,"l"),i(675,260,"m"),i(725,290,"s"),l(820,240),a(840,470,"left"),s(925,230,"l"),i(970,295,"m")]},{targetScore:4450,levelItems:[i(15,130,"xl"),i(130,310,"m"),c(130,135,600),i(190,525,"s"),s(225,455,"l"),i(230,180,"s"),i(270,500,"s"),a(300,215,"left"),s(340,245,"l"),i(355,85,"l"),i(395,330,"m"),a(430,220,"right"),s(600,280,"m"),i(620,130,"l"),i(660,280,"s"),a(675,380,"left"),l(745,115),s(810,375,"l"),c(850,95,600),i(870,430,"m"),c(940,170,600),i(1070,175,"l")]},{targetScore:6075,levelItems:[i(50,160,"m"),s(110,450,"l"),i(160,80,"m"),s(185,250,"m"),i(240,215,"s"),u(355,165,702,"right"),i(375,105,"s"),s(405,445,"m"),i(475,70,"xl"),u(505,385,702,"left"),u(580,385,702,"right"),s(585,250,"l"),i(655,230,"s"),i(720,50,"m"),s(758,455,"m"),i(815,200,"s"),i(835,100,"s"),u(840,320,702,"left"),i(855,230,"s"),l(860,160),i(940,170,"s"),s(1010,250,"l")]},{targetScore:7970,levelItems:[i(25,310,"s"),a(40,485,"right"),i(45,90,"xl"),f(125,430),a(125,245,"right"),f(125,155),l(230,380),p(310,330),a(310,110,"left"),i(350,190,"l"),f(410,315),i(490,30,"xl"),i(560,250,"s"),i(650,175,"xl"),a(700,455,"left"),p(700,330),f(805,410),a(910,255,"left"),i(955,400,"l"),a(1010,500,"left")]},{targetScore:10135,levelItems:[l(40,180),c(180,255,700),p(260,165),u(310,450,702,"right"),p(380,300),c(420,50,700),c(460,490,700),p(530,440),c(560,510,700),c(520,50,700),c(600,50,700),c(630,385,700),u(635,205,702,"left"),p(660,310),u(740,335,702,"left"),p(775,140),c(800,220,700),l(1e3,190)]},{targetScore:12570,levelItems:[p(20,200),l(40,365),p(75,160),c(125,270,700),c(130,605,700),c(210,45,700),i(225,150,"xl"),u(290,290,702,"right"),p(315,20),l(395,90),i(485,470,"s"),u(485,425,702,"right"),f(545,170),u(570,330,702,"left"),p(610,20),u(700,230,702,"left"),p(730,420),i(770,130,"xl"),c(825,260,700),p(900,50),f(930,125),c(940,370,700),l(990,230),c(1005,120,700),p(1040,510),c(1040,400,700),p(1040,255)]},{targetScore:15275,levelItems:[i(70,345,"l"),i(90,420,"s"),i(130,160,"xl"),i(70,345,"l"),i(180,255,"m"),i(225,340,"s"),i(70,345,"l"),i(240,235,"s"),s(245,450,"l"),s(245,180,"l"),i(270,35,"l"),i(320,120,"m"),i(435,215,"m"),i(470,90,"xl"),s(510,370,"l"),i(590,240,"l"),i(615,330,"s"),s(625,160,"l"),i(690,120,"m"),i(730,340,"s"),s(760,470,"l"),i(790,230,"xl"),i(825,445,"s"),i(900,380,"l"),i(975,180,"m"),i(1010,50,"xl"),i(1030,250,"xl")]}],cc._RF.pop()},{"./item":"item"}],game:[function(e,t,n){"use strict";cc._RF.push(t,"4b79f2xwBBAeKBoPn3GUqBY","game");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./global"),s=e("./config"),c=e("./item"),l=e("./utils"),a=e("./catcher"),u=cc._decorator,f=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countdownLabel=null,t.scoreLabel=null,t.levelLabel=null,t.targetScoreLabel=null,t.bombDisplay=null,t.bombPrefab=null,t.itemPrefab=null,t.ground=null,t.explosionFX=null,t.remaining=60,t.renderScore=function(){t.scoreLabel.string="\u91d1\u94b1\uff1a"+i.default.score},t.renderLevel=function(){t.levelLabel.string="\u7b2c "+i.default.level+" \u5173"},t.renderTargetScore=function(){t.targetScoreLabel.string="\u76ee\u6807\u94b1\u6570\uff1a"+s.levelsConfig[i.default.level-1].targetScore},t.renderBombNumber=function(){t.bombDisplay.removeAllChildren();for(var e=0;e<i.default.bombNumber;e++){var n=cc.instantiate(t.bombPrefab);t.bombDisplay.addChild(n)}},t.renderCountdown=function(){t.countdownLabel.string="\u65f6\u95f4\uff1a"+t.remaining},t.randomSecret=function(){var e=l.randomInt(~~(a.default.castSpeed/4),~~(a.default.castSpeed/1.2)),t=Math.random();return t<.2?{type:"bomb",weight:e}:i.default.buff.luck?t<.5?{type:"buff",weight:e}:{type:"price",weight:e,value:l.randomInt(400,800)}:t<.4?{type:"buff",weight:e}:{type:"price",weight:e,value:l.randomInt(50,800)}},t.generateItems=function(){for(var e=0,n=s.levelsConfig[i.default.level-1].levelItems;e<n.length;e++){var r=n[e],o=cc.instantiate(t.itemPrefab),l=o.getComponent("item"),a=o.getComponent("move");l.init(r),r.type===c.ItemType.Secret&&l.initSecret(t.randomSecret()),r.moveDirection&&a.startMove(r.moveDirection),l.node.x=r.x,l.node.y=r.y,l.node.parent=t.ground}},t.explodeArea=function(e){var n=t.ground.convertToWorldSpaceAR(e);t.playExplosionAnim(n);var r=t.ground.children.filter(function(t){return cc.Vec3.distance(e,t.position)<220}),o=r.filter(function(e){return e.getComponent(c.default).item.type===c.ItemType.Explosive}).map(function(e){return e.position.clone()});r.forEach(function(e){return e.parent=null}),t.scheduleOnce(function(){o.forEach(function(e){return t.explodeArea(e)})},.1)},t.playExplosionAnim=function(e){var n=cc.instantiate(t.explosionFX);n.setPosition(e),cc.director.getScene().addChild(n),n.active=!0;var r=n.getComponent(cc.Animation);r.play("explosion"),r.once("finished",function(){n.parent=null})},t.gainBomb=function(){i.default.bombNumber++,t.renderBombNumber()},t.useBomb=function(){return 0!==i.default.bombNumber&&(i.default.bombNumber--,t.renderBombNumber(),!0)},t.onTimeOut=function(){cc.director.loadScene("pass")},t.startCountdown=function(){t.schedule(function(){--t.remaining,t.renderCountdown(),t.remaining>0||t.onTimeOut()},1,t.remaining-1)},t}return r(t,e),t.prototype.onLoad=function(){var e=cc.director.getCollisionManager();e.enabled=!0,i.default.on("changeScore",this.renderScore),this.generateItems(),this.remaining=60,this.renderScore(),this.renderLevel(),this.renderTargetScore(),this.renderBombNumber(),this.renderCountdown(),this.startCountdown()},t.prototype.onDestroy=function(){i.default.off("changeScore",this.renderScore)},o([p({type:cc.Label})],t.prototype,"countdownLabel",void 0),o([p({type:cc.Label})],t.prototype,"scoreLabel",void 0),o([p({type:cc.Label})],t.prototype,"levelLabel",void 0),o([p({type:cc.Label})],t.prototype,"targetScoreLabel",void 0),o([p({type:cc.Node})],t.prototype,"bombDisplay",void 0),o([p({type:cc.Prefab})],t.prototype,"bombPrefab",void 0),o([p({type:cc.Prefab})],t.prototype,"itemPrefab",void 0),o([p({type:cc.Node})],t.prototype,"ground",void 0),o([p({type:cc.Node})],t.prototype,"explosionFX",void 0),t=o([f],t)}(cc.Component);n.default=h,cc._RF.pop()},{"./catcher":"catcher","./config":"config","./global":"global","./item":"item","./utils":"utils"}],global:[function(e,t,n){"use strict";cc._RF.push(t,"69375tpomJFeLTpFodWRL9w","global");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return{luck:!1,strength:!1,highStrength:!1,highDiamond:!1,highStone:!1}},i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._score=0,t.level=1,t.bombNumber=0,t.buff=o(),t.resetBuff=function(){t.buff=o()},t.reset=function(){t.level=1,t.score=0,t.bombNumber=0,t.resetBuff()},t.nextLevel=function(){t.level++,t.resetBuff()},t}return r(t,e),Object.defineProperty(t.prototype,"score",{get:function(){return this._score},set:function(e){this._score=e,this.emit("changeScore",e)},enumerable:!1,configurable:!0}),t}(e("eventemitter2").EventEmitter2);n.default=new i,cc._RF.pop()},{eventemitter2:2}],hook:[function(e,t,n){"use strict";cc._RF.push(t,"3cad7djZ69Ll7eaXVonVQ3O","hook");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.catcher=null,t}return r(t,e),t.prototype.onCollisionEnter=function(e){this.catcher.getComponent("catcher").onCollide(e.node)},o([c({type:cc.Node})],t.prototype,"catcher",void 0),t=o([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],input:[function(e,t,n){"use strict";cc._RF.push(t,"617a0br/vBOCbAVW34sBYKo","input");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator.ccclass,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastTouch=0,t.handleTouch=function(){var e=Date.now();e-t.lastTouch<500?(t.lastTouch=0,t.node.emit("up")):(t.lastTouch=e,t.node.emit("down"))},t.handleKeyDown=function(e){e.keyCode===cc.macro.KEY.down&&t.node.emit("down"),e.keyCode===cc.macro.KEY.up&&t.node.emit("up")},t}return r(t,e),t.prototype.onLoad=function(){(cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.handleKeyDown),cc.sys.isMobile)&&cc.director.getScene().getChildByName("Canvas").on(cc.Node.EventType.TOUCH_START,this.handleTouch)},t.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.handleKeyDown)},t=o([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],item:[function(e,t,n){"use strict";cc._RF.push(t,"9f719dWPohGEa53t2EEC7kf","item");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemType=void 0;var i,s=cc._decorator,c=s.ccclass,l=s.property;(function(e){e[e.Gold=0]="Gold",e[e.Stone=1]="Stone",e[e.Secret=2]="Secret",e[e.Diamond=3]="Diamond",e[e.Pig=4]="Pig",e[e.DiamondPig=5]="DiamondPig",e[e.Explosive=6]="Explosive",e[e.Debris=7]="Debris",e[e.Bone=8]="Bone"})(i=n.ItemType||(n.ItemType={}));var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.secretItem=null,t}return r(t,e),t.prototype.initSecret=function(e){this.secretItem=e},t.prototype.init=function(e){var t=e.type;this.item=e,t===i.Secret?(this.label.string="\u5b9d\u7bb1",this.node.color=new cc.Color(255,87,34)):t===i.Gold?(this.label.string="\u9ec4\u91d1",this.node.color=new cc.Color(255,235,59)):t===i.Pig?(this.label.string="\u732a",this.node.color=new cc.Color(255,155,185)):t===i.Diamond?(this.label.string="\u94bb\u77f3",this.node.color=new cc.Color(86,200,250)):t===i.DiamondPig?(this.label.string="\u94bb\u77f3\u732a",this.node.color=new cc.Color(33,150,243)):t===i.Stone?(this.label.string="\u77f3\u5934",this.node.color=new cc.Color(100,100,100)):t===i.Bone?(this.label.string="\u9aa8\u5934",this.node.color=new cc.Color(222,222,222)):t===i.Explosive?(this.label.string="\u706b\u836f\u6876",this.node.color=new cc.Color(255,150,0)):t===i.Debris?(this.label.string="\u788e\u7247",this.node.color=new cc.Color(255,255,255)):this.label.string="\u8fd9\u662f\u5565",e.type===i.Secret?(this.node.width=40,this.node.height=40):e.type===i.Explosive?(this.node.width=55,this.node.height=100):(this.node.width=e.volume,this.node.height=e.volume);var n=this.node.getComponent(cc.BoxCollider);n.size.width=this.node.width,n.size.height=this.node.height},t.prototype.start=function(){},o([l({type:cc.Label})],t.prototype,"label",void 0),t=o([c],t)}(cc.Component);n.default=a,cc._RF.pop()},{}],move:[function(e,t,n){"use strict";cc._RF.push(t,"4cd35AKYc1DxpFYuYs+KT4y","move");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator.ccclass,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMoving=!1,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.startMove=function(e){this.isMoving=!0,this.tween=cc.tween(this.node).repeatForever(cc.tween().by(5,{x:"left"===e?-500:500}).delay(1.5).by(5,{x:"left"===e?500:-500}).delay(.5+2*Math.random())).start()},t.prototype.stopMove=function(){this.isMoving=!1,this.tween.stop()},t.prototype.start=function(){},t=o([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],pass:[function(e,t,n){"use strict";cc._RF.push(t,"ef6f6PcFkRDDrf9p0zOLaER","pass");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./global"),s=e("./config"),c=cc._decorator,l=c.ccclass,a=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageLabel=null,t.continueButton=null,t.continueLabel=null,t}return r(t,e),t.prototype.onLoad=function(){var e=s.levelsConfig[i.default.level-1].targetScore;i.default.level===s.levelsConfig.length?(this.messageLabel.string="\u606d\u559c\u4f60\u901a\u8fc7\u6240\u6709\u5173\u5361",this.continueLabel.string="\u91cd\u65b0\u5f00\u59cb",i.default.reset(),this.continueButton.once("click",function(){cc.director.loadScene("main")})):i.default.score<e?(this.messageLabel.string="\u4f60\u6ca1\u6709\u8fbe\u5230\u76ee\u6807\u5206\u6570",this.continueLabel.string="\u91cd\u65b0\u5f00\u59cb",i.default.reset(),this.continueButton.once("click",function(){cc.director.loadScene("main")})):(this.messageLabel.string="\u606d\u559c\u4f60\u6210\u529f\u901a\u5173",this.continueLabel.string="\u7ee7\u7eed",i.default.nextLevel(),this.continueButton.once("click",function(){cc.director.loadScene("shop")}))},o([a(cc.Label)],t.prototype,"messageLabel",void 0),o([a(cc.Node)],t.prototype,"continueButton",void 0),o([a(cc.Label)],t.prototype,"continueLabel",void 0),t=o([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./config":"config","./global":"global"}],player:[function(e,t,n){"use strict";cc._RF.push(t,"4e08eKYUHRF3I7cC4FT+Jup","player");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./game"),s=e("./global"),c=cc._decorator,l=c.ccclass,a=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game=null,t.scoreFX=null,t.strengthFX=null,t.onScoreAnimationEnd=function(e){s.default.score+=e,t.scoreFX.active=!1},t.gainScore=function(e){return new Promise(function(n){t.scoreFX.active=!0;var r=t.scoreFX.getComponent(cc.Animation);t.scoreFX.getComponent(cc.Label).string=e.toString(),r.play("score"),r.once("finished",function(){t.onScoreAnimationEnd(e),n()})})},t.gainHighStrength=function(){t.strengthFX.active=!0;var e=t.strengthFX.getComponent(cc.Animation);e.play("strength"),e.once("finished",function(){t.strengthFX.active=!1}),s.default.buff.highStrength=!0},t.useBomb=function(){return t.game.useBomb()},t.gainBomb=function(){return t.game.gainBomb()},t}return r(t,e),t.prototype.start=function(){},o([a({type:i.default})],t.prototype,"game",void 0),o([a({type:cc.Node})],t.prototype,"scoreFX",void 0),o([a({type:cc.Node})],t.prototype,"strengthFX",void 0),t=o([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./game":"game","./global":"global"}],shopItem:[function(e,t,n){"use strict";cc._RF.push(t,"4f44fLb/CBA7qhSql97RBAp","shopItem");var r,o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ShopItems=void 0,function(e){e[e.Bomb=0]="Bomb",e[e.Strength=1]="Strength",e[e.Luck=2]="Luck",e[e.HighStone=3]="HighStone",e[e.HighDiamond=4]="HighDiamond"}(r=n.ShopItems||(n.ShopItems={}));var s=cc._decorator,c=s.ccclass,l=s.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nameLabel=null,t.priceLabel=null,t.iconSprite=null,t.price=-1,t.description="",t.init=function(e,n){e===r.Bomb?(t.nameLabel.string="\u70b8\u5f39",t.description="\u70b8\u836f\u3002\u5f53\u4f60\u6293\u5230\u8f83\u91cd\u800c\u4e0d\u503c\u94b1\u7684\u7269\u54c1\u65f6\uff0c\u53ef\u4ee5\u6309\u4e0a\u65b9\u5411\u952e\u4f7f\u7528\u70b8\u836f\u5c06\u5b83\u70b8\u6bc1\uff0c\u4ee5\u4fbf\u8282\u7701\u65f6\u95f4"):e===r.Strength?(t.nameLabel.string="\u751f\u529b\u6c34",t.description="\u751f\u529b\u6c34\u3002\u5728\u4e0b\u4e00\u5173\u4f60\u7684\u529b\u6c14\u5c06\u4f1a\u589e\u52a0\uff0c\u5373\u6293\u4e1c\u897f\u7684\u901f\u5ea6\u4f1a\u53d8\u5feb"):e===r.Luck?(t.nameLabel.string="\u5e78\u8fd0\u8349",t.description="\u5e78\u8fd0\u8349\u3002\u5728\u4e0b\u4e00\u5173\u4ece\u5b9d\u7bb1\u4e2d\u6293\u5230\u597d\u4e1c\u897f\u7684\u51e0\u7387\u4f1a\u589e\u52a0"):e===r.HighStone?(t.nameLabel.string="\u77f3\u5934\u6536\u85cf\u4e66",t.description="\u77f3\u5934\u6536\u85cf\u4e66\u3002\u5728\u4e0b\u4e00\u5173\u77f3\u5934\u4f1a\u53d8\u5f97\u66f4\u503c\u94b1"):e===r.HighDiamond&&(t.nameLabel.string="\u4f18\u8d28\u94bb\u77f3",t.description="\u4f18\u8d28\u94bb\u77f3\u3002\u5728\u4e0b\u4e00\u5173\u94bb\u77f3\u4f1a\u53d8\u5f97\u66f4\u503c\u94b1"),t.type=e,t.price=n,t.priceLabel.string=n.toString()},t}return o(t,e),i([l({type:cc.Label})],t.prototype,"nameLabel",void 0),i([l({type:cc.Label})],t.prototype,"priceLabel",void 0),i([l({type:cc.Sprite})],t.prototype,"iconSprite",void 0),t=i([c],t)}(cc.Component);n.default=a,cc._RF.pop()},{}],shop:[function(e,t,n){"use strict";cc._RF.push(t,"43d94EwAglObo/V3+48oIx6","shop");var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./shopItem"),s=e("./global"),c=e("./utils"),l=cc._decorator,a=l.ccclass,u=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ShopItemPrefab=null,t.descriptionLabel=null,t.bombAnchor=null,t.strengthAnchor=null,t.luckAnchor=null,t.highStoneAnchor=null,t.highDiamondAnchor=null,t.buyShopItem=function(e){if(s.default.score<e.price)return!1;if(s.default.score-=e.price,e.type===i.ShopItems.Bomb)s.default.bombNumber++;else if(e.type===i.ShopItems.Strength)s.default.buff.strength=!0;else if(e.type===i.ShopItems.Luck)s.default.buff.luck=!0;else if(e.type===i.ShopItems.HighStone)s.default.buff.highStone=!0;else{if(e.type!==i.ShopItems.HighDiamond)throw new Error("Unknown type");s.default.buff.highDiamond=!0}return!0},t.randomShopItem=function(){c.randomInt(0,100)>50&&t.setShopItem(i.ShopItems.Bomb,t.bombAnchor,c.randomInt(1,400)),c.randomInt(0,100)>50&&t.setShopItem(i.ShopItems.Strength,t.strengthAnchor,c.randomInt(50,400)),c.randomInt(0,100)>50&&t.setShopItem(i.ShopItems.Luck,t.luckAnchor,c.randomInt(1,100)),c.randomInt(0,100)>50&&t.setShopItem(i.ShopItems.HighStone,t.highStoneAnchor,c.randomInt(1,50)),c.randomInt(0,100)>50&&t.setShopItem(i.ShopItems.HighDiamond,t.highDiamondAnchor,c.randomInt(50,700))},t}return r(t,e),t.prototype.setShopItem=function(e,t,n){var r=this,o=cc.instantiate(this.ShopItemPrefab),s=o.getComponent(i.default);s.init(e,n),o.parent=t,o.on(cc.Node.EventType.MOUSE_ENTER,function(){o.opacity=220,r.descriptionLabel.string=s.description}),o.on(cc.Node.EventType.MOUSE_LEAVE,function(){o.opacity=255,r.descriptionLabel.string=""}),o.on(cc.Node.EventType.TOUCH_START,function(){r.buyShopItem(s)?o.parent=null:r.descriptionLabel.string="\u4e70\u4e0d\u8d77"})},t.prototype.onLoad=function(){this.randomShopItem()},t.prototype.next=function(){cc.director.loadScene("main")},o([u({type:cc.Prefab})],t.prototype,"ShopItemPrefab",void 0),o([u({type:cc.Label})],t.prototype,"descriptionLabel",void 0),o([u({type:cc.Node})],t.prototype,"bombAnchor",void 0),o([u({type:cc.Node})],t.prototype,"strengthAnchor",void 0),o([u({type:cc.Node})],t.prototype,"luckAnchor",void 0),o([u({type:cc.Node})],t.prototype,"highStoneAnchor",void 0),o([u({type:cc.Node})],t.prototype,"highDiamondAnchor",void 0),t=o([a],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./global":"global","./shopItem":"shopItem","./utils":"utils"}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"f6dc329yKRN+bE0X7ciV/kg","utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.randomInt=void 0,n.randomInt=function(e,t){return Math.floor(Math.random()*(t-e))+e},cc._RF.pop()},{}]},{},["catcher","config","game","global","hook","input","item","move","pass","player","shop","shopItem","utils"]);